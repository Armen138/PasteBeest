/*! PasteBeest 2013-07-23 */
!function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a){!function(){var b=a("./lang"),c=a("./history");console.log(b.list),console.log(c.pastes),console.log(document.referrer),1===views&&c.add(window.location.pathname);for(var d in c.pastes)$("#sidepanel").append("<li>"+d+"</li>");$(function(){var a=!1,c=CodeMirror.fromTextArea(document.getElementById("code"),{lineNumbers:!0,theme:"ambiance",mode:language});c.setSize("100%",$(window).height()-34),$("#new").click(function(a){a.preventDefault(),window.location="/"}),$("#menu").click(function(){$("#sidepanel").is(":visible")?$("#sidepanel").slideUp({duration:500}):$("#sidepanel").slideDown({duration:500})});for(var d=0;d<b.list.length;d++){var e="<option value='"+b.list[d].mode+"'";b.list[d].mode===language&&(e+=" selected=selected "),e+=">"+b.list[d].name+"</option>",$("#language").append(e)}$("#language").change(function(){a=!0;var b=$(this).val();c.setOption("mode",b)}),c.on("change",function(d){if(!a){var e=b.detect(d.getValue());$("#language").val(e),c.setOption("mode",e)}})})}()},{"./lang":2,"./history":3}],2:[function(a,b,c){function d(a,b){return-1!==a.indexOf(b)}function e(a){var b="null";return-1!==a.search(/<\w*>/g)&&(b="xml"),(d(a,"SELECT")||d(a,"INSERT"))&&(b="sql"),(d(a,"nil")||d(a,"local")||d(a,"repeat"))&&(b="lua"),d(a,"var")&&d(a,"function")&&(b="javascript"),(d(a,"void")||d(a,"int")||d(a,"class")||d(a,"malloc"))&&(b="clike"),(d(a,"(ns")||d(a,"(require"))&&(b="clojure"),(d(a,"unless")||d(a,"->"))&&(b="coffeescript"),(-1!==a.search(/^\s*\./g)||-1!==a.search(/^\s*#/g))&&(b="css"),"css"===b&&-1!==a.search(/^\s*\@/g)&&(b="less"),"css"===b&&-1!==a.search(/^\s*\$/g)&&(b="sass"),-1!==a.search(/^\+/g)&&-1!==a.search(/^-/g)&&(b="diff"),-1!==a.search(/_\w*?_/g)&&(b="markdown"),(d(a,"mdo")||d(a,"newtype")||d(a,"foreign")||d(a,"-<<"))&&(b="haskell"),d(a,"$")&&d(a,"my")&&(b="perl"),d(a,"def")&&(b="python"),"python"===b&&d(a,"end")&&(b="ruby"),(d(a,"<?php")||d(a,"isset")||d(a,"$_"))&&(b="php"),d(a,"fn")&&d(a,"let")&&(b="rust"),d(a,"echo")&&d(a,"$(")&&(b="shell"),console.log("Language detected: "+b),b}c.list=[{name:"C/C++",mode:"clike"},{name:"Clojure",mode:"clojure"},{name:"CoffeeScript",mode:"coffeescript"},{name:"CSS",mode:"css"},{name:"diff",mode:"diff"},{name:"Markdown",mode:"markdown"},{name:"Haskell",mode:"haskell"},{name:"JavaScript",mode:"javascript"},{name:"LESS",mode:"less"},{name:"Lua",mode:"lua"},{name:"Perl",mode:"perl"},{name:"PHP",mode:"php"},{name:"Plain Text",mode:"null"},{name:"Python",mode:"python"},{name:"Ruby",mode:"ruby"},{name:"Rust",mode:"rust"},{name:"Sass",mode:"sass"},{name:"Shell",mode:"shell"},{name:"SQL",mode:"sql"},{name:"XML",mode:"xml"}],c.detect=e},{}],3:[function(a,b,c){var d={pastes:{},add:function(a){d.pastes[a]=Date.now(),d.save()},save:function(){localStorage.history=JSON.stringify(d.pastes)},load:function(){localStorage.history&&(d.pastes=JSON.parse(localStorage.history))}};d.load();for(var e in d)c[e]=d[e]},{}]},{},[1]);